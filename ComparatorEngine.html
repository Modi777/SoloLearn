<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Comparator Engine - Compare SoloLearn Codes">
        <meta name="author" content="Reinhold Lauer">
        <meta name="theme-color" content="#022f5a">
        <title>Comparator Engine</title>

        <!-- Bootstrap Core -->
        <link rel="stylesheet" href="https://movie-file-merger.org/css/bootstrap.min.css" />

        <!-- Prism Syntax Hightlighter -->
        <link rel="stylesheet" href="https://movie-file-merger.org/SoloLearn/Prism.css" />

        <!-- JQuery -->
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

        <!-- Browser Me Include -->
        <script src="https://movie-file-merger.org/SoloLearn/BrowserMeInclude.js"></script>

    <style>

body {
    padding: 5px;
    background-color: #222315;
    color: white;
    width: 99%;
}

code[class*="language-"], pre[class*="language-"] {
    line-height: 1.1; 
}

pre {
    height: 280px;
    resize: vertical;
    font-size: 12px;
    background-color: black;
}

.SLLink {
    max-height: 20px; 
    margin-left: 7px; 
    margin-top: -7px;
}

.navbar-default .navbar-nav .open .dropdown-menu>li>a, .navbar-default .navbar-nav .open .dropdown-menu {
    background-color: #1e214d;
    color: #ffffff;
}

</style></head>
    <body>

        <!-- The Menu -->
        <div class="navbar-wrapper">
            <nav class="navbar navbar-inverse navbar-default">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="https://www.sololearn.com/Profile/8489802">
                        <img style="max-width:55px; margin-top: -7px;" src="https://movie-file-merger.org/SoloLearn/AppleAndOrange.png">
                    </a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button">Menu A<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a codePage="https://code.sololearn.com/cct5i2KUthjd/#c" 
                                        codeLanguage="c" class="SLCode" href="#">Code A</a></li>
                                <li><a codePage="https://code.sololearn.com/cr15pyY8DCux/#cpp" 
                                        codeLanguage="cpp" class="SLCode" href="#">Code B</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button">Menu B<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a codePage="https://code.sololearn.com/cqk0aIT4O0f8/#cs" 
                                        codeLanguage="csharp" class="SLCode" href="#">Code C</a></li>
                                <li><a codePage="https://code.sololearn.com/c72uJ0G7reUi/#java" 
                                        codeLanguage="java" class="SLCode" href="#">Code D</a></li>
                            </ul>
                        </li>
                        <li><a href="https://movie-file-merger.org/SoloLearn/ComparatorEngine.html" target="_blank">In Browser</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button">Comparator Engine<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a codePage="https://code.sololearn.com/csrf6fwFdJq2/#rb" 
                                        codeLanguage="markdown" class="SLCode" href="#">About</a></li>
                                <li><a codePage="https://code.sololearn.com/ctCS6Qqa1sXS/#rb"
                                        codeLanguage="markdown" class="SLCode" href="#">Short Instructions</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="row">
            <!-- Code I Area -->
            <div class="col-lg-6">
                <h5><label id='codeISelector'>
                    <input type="radio" id="showInCodeI" name="optradio" checked="checked"/>
                    &nbsp; Code I - </label>
                    <a href="#" id="codeITitle" target="_blank"></a>
                    <a href="#" id="codeIUpDown" target="_blank">
                        <img class='SLLink' src="https://movie-file-merger.org/SoloLearn/UpDown.png">
                        <img class='SLLink' src="https://movie-file-merger.org/SoloLearn/Comment.png">
                    </a>
                </h5>
                <pre class="line-numbers" id='codeIArea'><code id ="codeICode"></code></pre>
            </div>
            <!-- Code II Area -->
            <div class="col-lg-6">
                <h5><label id='codeIISelector'>
                    <input type="radio" id="showInCodeII" name="optradio"/>
                    &nbsp; Code II - </label>
                    <a href="#" id="codeIITitle" target="_blank"></a>
                    <a href="#" id="codeIIUpDown" target="_blank">
                        <img class='SLLink' src="https://movie-file-merger.org/SoloLearn/UpDown.png">
                        <img class='SLLink' src="https://movie-file-merger.org/SoloLearn/Comment.png">
                    </a>
                </h5>
                <pre class="line-numbers" id='codeIIArea'><code id ="codeIICode"></code></pre>
            </div>
        </div>

        <!-- Bootstrap Core -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://movie-file-merger.org/js/bootstrap.min.js"></script>

        <!-- Prism Syntax Hightlighter -->
        <script src="https://movie-file-merger.org/SoloLearn/Prism.js"></script>

        <!-- JQuery -->
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>    
    <script>

// Comparator Engine - 2018-07-15 - Created by Modi
/******************************************************
Compare different SoloLearn codes side by side.
*******************************************************/
// Copyright (c) 2018 Modi (Reinhold Lauer)
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.

function showWhere( ) {
    if ( $( '#showInCodeI' ).prop( 'checked' ) ) return 'codeI';
    if ( $( '#showInCodeII' ).prop( 'checked' ) ) return 'codeII';
}

// load the code in element
function showCodeIn( showIn, language, title, codePageOnSoloLearn, sourceCode ) { 
    $( '#' + showIn + 'Title' ).text( title );
    $( '#' + showIn + 'Title' ).attr( 'href', codePageOnSoloLearn );
    $( '#' + showIn + 'UpDown' ).attr( 'href', codePageOnSoloLearn );
    $( '#' + showIn + 'Code' ).text( sourceCode );
    $( '#' + showIn + 'Code' ).removeClass( $( '#' + showIn + 'Code' ).attr( 'class' ) ).addClass( 'line-numbers language-' + language );
}
    
// load the code in the corresponding selection    
function getCode( language, codePageOnSoloLearn, title ) { 

    var whereToShow = showWhere(); // remember for later when successfully loaded
    $( '#' + whereToShow + 'Title' ).text( 'Loading...' );
    $( '#' + whereToShow + 'Code' ).text( 'Loading, please wait...' );

    // handle JavaScript special case
    var codeLocation = language == 'javascript' ? 'input.saveJsCode' : 'input.saveSourceCode'; 
    codeLocation = language == 'css' ? 'input.saveCssCode' : codeLocation;
    
    $.ajax({ 
        type: 'GET',
        url: 'https://cors-anywhere.herokuapp.com/' + codePageOnSoloLearn,
        dataType : 'html',
        success: function( data, status, xhr ) { // succeeded with the request
            if ( status == 'success' ) {
                var sourceCode = $( data ).find( codeLocation ).attr( 'value' ); 
                showCodeIn( whereToShow, language, title, codePageOnSoloLearn, sourceCode );
            }
            Prism.highlightAll();
        },
        error: function( error ) {  // log any error
            $.ajax( { // try it the other way...
                type: 'GET',
                url: codePageOnSoloLearn,
                dataType : 'html',
                success: function( data, status, xhr ) { // succeeded with the request
                    if ( status == 'success' ) {
                        var sourceCode = $( data ).find( codeLocation ).attr( 'value' ); 
                        showCodeIn( whereToShow, language, title, codePageOnSoloLearn, sourceCode );
                    }
                    Prism.highlightAll( );
                },
                error: function( error ) {  // log any error
                    showCodeIn( whereToShow, 'csharp', 'Failed...', codePageOnSoloLearn, 
                        '# Had problems loading the code...\n' + 
                        '# Click on the title and try to open the code in SoloLearn.' );
                    Prism.highlightAll( );
                }
            });
        }
    });
}

// synch the code areas heights
var lastCodeIAreaHeight = $( '#codeIArea' ).height( );
function checkForChanges( ) {
    if ( $( '#codeIArea' ).height( ) != lastCodeIAreaHeight ) {
        lastCodeIAreaHeight = $( '#codeIArea' ).height( ); 
        $( '#codeIIArea' ).height( lastCodeIAreaHeight );
    }
    setTimeout( checkForChanges, 100 );
}

// set the callback for each object
function setCallbacks(  ) { 
    var iCallbackNumber = 0;
    $( '#codeICode' ).text( 'Setting callbacks...' );
    $( '.SLCode' ).each( function ( ) {
        $( '#codeICode' ).text( 'Setting callbacks ' + iCallbackNumber++  );
        $( this ).on( 'click', function( ) { 
            getCode($( this ).attr( 'codeLanguage' ), 
                    $( this ).attr( 'codePage' ), 
                    $( this ).text() ); // the title
        });
    });
}

$( document ).ready( function( ) {
    setCallbacks( ); 

    getCode( 'markdown', 'https://code.sololearn.com/ctCS6Qqa1sXS/#rb', 'Short Instructions' );
    $( '#showInCodeII' ).prop( 'checked', 'checked' );
    getCode( 'markdown', 'https://code.sololearn.com/csrf6fwFdJq2/#rb', 'About Comparator Engine' );
    $( '#showInCodeI' ).prop( 'checked', 'checked' );

    // set the tooltips in the titles
    var soloLearnLink = 'Go to the SoloLearn code page where you can up vote the code or leave a comment.';
    var codeAreaSelector = 'Selecte the active code area where the next code chosen in the menu will be shown.'
    $( '#codeITitle').attr( 'title', soloLearnLink )
    $( '#codeIUpDown').attr( 'title', soloLearnLink )
    $( '#codeISelector').attr( 'title', codeAreaSelector )
    $( '#codeIITitle').attr( 'title', soloLearnLink )
    $( '#codeIIUpDown').attr( 'title', soloLearnLink )
    $( '#codeIISelector').attr( 'title', codeAreaSelector )
    
    checkForChanges();
});

</script></body>        
</html>